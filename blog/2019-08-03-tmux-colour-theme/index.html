<!doctype html><html lang=en-us>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="I made a Dracula colout theme for tmux and I love it! Here's a bit about how to customize tmux.">
<title>Creating a tmux Colour Theme &#183; Cassidy Scheffer</title>
<link rel=stylesheet href=/css/style.css>
<link rel=stylesheet href=/css/fonts.css>
<link rel=icon href=favicon.ico>
<link rel=icon type=image/png sizes=32x32 href=/images/favicon-32x32.png>
<link rel=icon type=image/png sizes=16x16 href=/images/favicon-16x16.png>
<link rel=apple-touch-icon sizes=180x180 href=/images/apple-touch-icon.png>
<link href rel=alternate type=application/rss+xml title="Cassidy Scheffer">
</head>
<body>
<nav class=nav>
<div class=nav-container>
<a href=/>
<h2 class=nav-title>Cassidy Scheffer</h2>
</a>
<ul>
<li>
<a href=/blog/>
<span>Posts</span>
</a>
</li>
<li>
<a href=https://github.com/cassidycodes>
<span>GitHub</span>
</a>
</li>
<li>
<a href=https://www.linkedin.com/in/cassidyscheffer/>
<span>LinkedIn</span>
</a>
</li>
</ul>
</div>
</nav>
<main>
<div class=post>
<div class=post-info>
<span>Written by</span>
Cassidy Scheffer
<br>
<span>on&nbsp;</span><time datetime="2019-08-03 15:22:43 -0400 -0400">August 3, 2019</time>
</div>
<h1 class=post-title>Creating a tmux Colour Theme</h1>
<div class=post-line></div>
<p>I recently decided to use the <a href=https://draculatheme.com/>Dracula</a> in my coding environment. Love it or hate it, I&rsquo;ve been working with Vim and <a href=https://github.com/tmux/tmux>tmux</a> for the past two years and I inherited my Vim and tmux configurations from someone else. I dove head first into this environment and got used to it pretty quickly, but I never spent much time configuring it.</p>
<p>When I switched Vim over to Dracula, I immediately realized that I needed to change my tmux colours too!</p>
<p>Here&rsquo;s how I approached writing a theme in my tmux config. But first, this is what it looks like! üòç</p>
<p><a href=/images/posts/tmux-theme/tmux-dracula.png><img src=/images/posts/tmux-theme/tmux-dracula.png alt="a screenshot of a terminal with a tmux window"></a></p>
<h2 id=general-setup>General Setup</h2>
<p>First, I wanted all the hex codes for Dracula colours right in front of me so I didn&rsquo;t have to keep switching to a browser window. Then, lets tell tmux to use a terminal that supports colours.</p>
<p>You&rsquo;ll notice that I&rsquo;m using the hex codes for these colours. tmux supports passing hex codes in to the configs, but it will convert the hex code to the closest 256color.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># Dracula Colours
# background_color '#282a36'
# current_line_color '#44475a'
# foreground_color '#f8f8f2'
# comment_color '#6272a4'
# cyan '#8be9fd'
# green '#50fa7b'
# orange '#ffb86c'
# pink '#ff79c6'
# purple '#bd93f9'
# red '#ff5555'
# yellow '#f1fa8c'

set -g default-terminal &quot;screen-256color&quot;
</code></pre><h2 id=borders>Borders</h2>
<p>a tmux session can have windows and windows have panes. Each pane is a separate terminal session and each window can have one or more terminal sessions. If you&rsquo;re familiar with iTerm, think of panes like a horizontal or vertical split.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># pane border
set -g pane-border-style fg='#6272a4'
set -g pane-active-border-style fg='#ff79c6'
</code></pre><p>Here we&rsquo;ve set two styles. The default border colour is Dracula&rsquo;s dark purple comment colour. tumx style directives are a comma-separated list of styles for foreground, <code>fg</code>, and background <code>bg</code>.</p>
<p><code>fg</code> and <code>bg</code> each accept a colour and a list of attributes. The tmux docs gives a list of all the attributes you can use:</p>
<blockquote>
<p>The attributes is either none or a comma-delimited list of one or more of: <code>bright</code> (or <code>bold</code>), <code>dim</code>, <code>underscore</code>, <code>blink</code>, <code>reverse</code>, <code>hidden</code>, <code>italics</code>, or <code>strikethrough</code> to turn an attribute on, or an attribute prefixed with <code>no</code> to turn one off.</p>
</blockquote>
<p>These two styles tell tmux to make all the boarders dark purple, but if my cursor is in a window, make that pane&rsquo;s borders pink.</p>
<h2 id=message-style>Message Style</h2>
<p>At the bottom of a tmux window, you&rsquo;ll see the status bar. But this gets covered up by the tmux command line and any messages from tmux.</p>
<p>I kept this similar to the status bar, with a grey background and blue text.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># message text
set -g message-style bg='#44475a',fg='#8be9fd'
</code></pre><h2 id=status-line>Status Line</h2>
<p>The status line is comprised of three parts. <code>status-left</code>, <code>window-status</code> and <code>status-right</code>. Remember how I said that tmux has multiple windows. You can think of these like tabs in iTerm. All of the <code>window-status</code> directives style these tabs.</p>
<p>Lets start with some basic configs.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux>set -g status-style bg='#44475a',fg='#bd93f9'
set -g status-interval 1
</code></pre><p>Here we set the background to a dark grey and the foreground to purple. Although, the purple will get overwritten later.</p>
<p>The next line is important for what we&rsquo;re going to do with <code>status-right</code> later. It tells tmux to refresh the status line every second.</p>
<p>All right, now for <code>status-left</code>.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># status left
# are we controlling tmux or the content of the panes?
set -g status-left '#[bg=#f8f8f2]#[fg=#282a36]#{?client_prefix,#[bg=#ff79c6],} ‚ò∫ '
</code></pre><p>The syntax here is getting a little more tricky than when we were styling the status line. The status and window options take a single string as their argument, but you can pass styles in through square brackets and you can call tmux variables inside curly braces.</p>
<p>So my status left line says, make the background light grey and the foreground dark grey. Then we have a conditional. Has the client prefix key been pressed? If so, lets actually make the background pink, if not, don&rsquo;t do anything. And finally The string ends with <code>‚ò∫</code>.</p>
<p>This gives me a quick way to see if I&rsquo;ve typed the prefix or not. Handy when you&rsquo;re prone to mistyping, or when you get distracted in the middle of switching panes or windows.</p>
<p>Next, I want to add to this status-left string. Passing the <code>a</code> option into <code>set</code> tells tmux to append this string to the previous one rather than overwrite it.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># are we zoomed into a pane?
set -ga status-left '#[bg=#44475a]#[fg=#ff79c6] #{?window_zoomed_flag, ‚Üï  ,   }'
</code></pre><p>Looks similar to the one above, right. This time, I&rsquo;m displaying an arrow if I&rsquo;ve zoomed one of my panes to take up the whole window. Otherwise, I&rsquo;m leaving this blank.</p>
<p>Okay! On to to <code>window-status</code>.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># window status
set-window-option -g window-status-style fg='#bd93f9',bg=default
set-window-option -g window-status-current-style fg='#ff79c6',bg='#282a36'
</code></pre><p>Here I&rsquo;ve set the default window status to blend in to the rest of the status bar and the active window to be purple with white text. <code>window-status-format</code> is where things get more interesting.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux>set -g window-status-current-format &quot;#[fg=#44475a]#[bg=#bd93f9]ÓÇ∞#[fg=#f8f8f2]#[bg=#bd93f9] #I #W #[fg=#bd93f9]#[bg=#44475a]ÓÇ∞&quot;
set -g window-status-format &quot;#[fg=#f8f8f2]#[bg=#44475a]#I #W #[fg=#44475a]ÓÇ∞ &quot;
</code></pre><p>This looks similar to what we have above, but there&rsquo;s some style tricks we need to do. I wanted to have triangular shapes delineating my windows similar to what Vim Powerline does. In order to get the style to work I have to toggle the foreground and background colours before and after the <code>ÓÇ∞</code>. Then to display the name of the window I&rsquo;m using <code>#I</code>, which is a short-hand for the <code>window_index</code> variable and <code>#W</code>, which is short for <code>window_name</code></p>
<p>Almost done! <code>status-right</code> should look pretty familiar now.</p>
<pre tabindex=0><code class=language-tmux data-lang=tmux># status right
set -g status-right '#[fg=#8be9fd,bg=#44475a]ÓÇ≤#[fg=#44475a,bg=#8be9fd] #(tmux-mem-cpu-load -g 5 --interval 2) '
set -ga status-right '#[fg=#ff79c6,bg=#8be9fd]ÓÇ≤#[fg=#44475a,bg=#ff79c6] #(uptime | cut -f 4-5 -d &quot; &quot; | cut -f 1 -d &quot;,&quot;) '
set -ga status-right '#[fg=#bd93f9,bg=#ff79c6]ÓÇ≤#[fg=#f8f8f2,bg=#bd93f9] %a %H:%M:%S #[fg=#6272a4]%Y-%m-%d '
</code></pre><p>The difference here is that I&rsquo;m using parentheses to tell tmux to execute a bash command. The first one displays a summary of my memory and CPU usage and the second one tells me how long it&rsquo;s been since the last reboot.</p>
<h2 id=conclusion>Conclusion</h2>
<p>Yay, a Dracula theme!!! I&rsquo;m still working on perfecting my tmux config. Lots of it is borrowed from other people&rsquo;s dot files, but I&rsquo;m pretty happy with my Dracula theme. Now I have to do the same form my command prompt!</p>
</div>
<div class=pagination>
<a href=/blog/2019-08-01-debugging-in-rails/ class="left arrow">&#8592;</a>
<a href=/blog/2019-08-06-favourite-debugging-trick/ class="right arrow">&#8594;</a>
<a href=# class=top>Top</a>
</div>
</main>
<footer>
<span>
&copy; <time datetime="2022-02-26 17:25:18.808582966 +0000 UTC m=+0.176195519">2022</time> Cassidy Scheffer. Made with <a href=https://gohugo.io>Hugo</a> using the <a href=https://github.com/EmielH/tale-hugo/>Tale</a> theme.
</span>
</footer>
</body>
</html>